From 61252aa549172cbb58b2f375e1ce043fd05baa33 Mon Sep 17 00:00:00 2001
From: Alexander Hansen <alexander.hansen@9elements.com>
Date: Wed, 6 Sep 2023 17:13:12 +0200
Subject: [PATCH] unlock-SCU00

Signed-off-by: Alexander Hansen <alexander.hansen@9elements.com>
Upstream-Status: Pending
---
 arch/arm/mach-aspeed/ast2500/board_common.c | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/arch/arm/mach-aspeed/ast2500/board_common.c b/arch/arm/mach-aspeed/ast2500/board_common.c
index c63fe466eb..1422fc112b 100644
--- a/arch/arm/mach-aspeed/ast2500/board_common.c
+++ b/arch/arm/mach-aspeed/ast2500/board_common.c
@@ -108,6 +108,14 @@ __weak int board_init(void)
 			break;
 	}
 
+
+	printf("START UNLOCK SCU00");
+	#define SCU_PROT_KEY		0x1e6e2000
+	#define SCU_UNLOCK_VALUE	0x1688A8A8
+	writel(SCU_UNLOCK_VALUE, SCU_PROT_KEY);
+	while (!readl(SCU_PROT_KEY));
+	printf("UNLOCKED SCU00");
+
 	return 0;
 }
 
-- 
2.42.0

